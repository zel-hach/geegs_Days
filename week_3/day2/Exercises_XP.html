<!DOCTYPE html>
<html>
    <head>
        <title>exercice_xp</title>
    </head>
    <script>
    //////////////////////////////////////////////////////////////////////////////////////exercice 1 /////////////////////////////////////////////////////

        async function getData(){
            try{
                const response = await fetch(`https://api.giphy.com/v1/gifs/search?q=hilarious&rating=g&api_key=hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My`);
                if(response.ok)
                {
                    const data = await response.json();
                    console.log(data);
                }
            }catch(e){
                console.log('cannot fetch data: ',e);
            }
        }
        getData();

    //////////////////////////////////////////////////////////////////////////////////////exercice 2 /////////////////////////////////////////////////////

            async function getDataten(){
            try{
                const response = await fetch(`https://api.giphy.com/v1/gifs/search?q=hilarious&rating=g&limit=10&offset=2&api_key=hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My`);
                if(response.ok)
                {
                    const data = await response.json();
                    console.log(data);
                }
            }catch(e){
                console.log('cannot fetch data: ',e);
            }
        }
        getDataten();
        //////////////////////////////////////////////////////////////////////////////////////exercice 3 /////////////////////////////////////////////////////

        async function fetchDataEX3(){
            try{
                const response = await fetch("https://www.swapi.tech/api/starships/9/");
                if(response.ok)
                {
                    const data = await response.json()
                    console.log(data.result);
                }
                else{
                    throw 'cannot fetch data';
                }

            }catch(error)
            {
                console.log("error fetch data",error);
            }
        }
        fetchDataEX3();

        //////////////////////////////////////////////////////////////////////////////////////exercice 4 /////////////////////////////////////////////////////
        function resolveAfter2Seconds() {
            return new Promise(resolve => {
            setTimeout(() => {
                resolve('resolved');
                }, 2000);
             });
        }

        async function asyncCall() {
            console.log('calling');
            let result = await resolveAfter2Seconds();
            console.log(result);
            }
        asyncCall();// result => calling 
                            //   after 2seconds return resolved

    </script>
</html>