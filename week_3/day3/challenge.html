<!DOCTYPE html>
<html>
<head>
    <title>Currency Converter</title>
</head>
<style>
    body{
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: darkcyan;
        }
        .container{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 10px;
        }
        .header{
            font-family: 'Fathers Outline', sans-serif;
            font-size: 100px;
            color: #fdcd30;
                                                
        }
        .card{
            padding: 10px;
            width: 500px;
            height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
            border: 3px solid #fdcd30;
            border-radius: 10px;
            color: #fdcd30;
            font-size: large;
        }
        .button{
            background-color: #fdcd30;
            border: 3px solid #fdcd30;
            padding: 6px 20px;
            border-radius: 10px;
            width: 75%;

        }
        .width{
        width: 75%;
        height: 40px;
        border:1px solid #fdcd30;
        border-radius: 10px;
    }
</style>
<body>
    
    <div class="container">
        <h2 class="header">Currency Converter</h2>
        
        <div class="card">
            <input type="number" id="amount" placeholder="Amount" class="width"/>
        
            <select id="from" class="width"></select>
        
            <button id="switch" class="button">â‡„</button>
        
            <select id="to" class="width"></select>
        
            <button id="convert" class="button">Convert</button>
        
            <h3 id="result" style="display: none;"></h3>
        </div>
    </div>

    <script>

        const API_KEY = "YOUR_API_KEY";

const fromSelect = document.getElementById("from");
const toSelect = document.getElementById("to");
const amountInput = document.getElementById("amount");
const result = document.getElementById("result");
const convertBtn = document.getElementById("convert");
const switchBtn = document.getElementById("switch");

async function loadCurrencies() {
    try {
        const response = await fetch(
            `https://v6.exchangerate-api.com/v6/53c20a7301a850a81182a989/codes`
        );

        if (!response.ok) throw new Error("Failed to load currencies");

        const data = await response.json();

        data.supported_codes.forEach(currency => {
            const option1 = document.createElement("option");
            const option2 = document.createElement("option");

            option1.value = option2.value = currency[0];
            option1.textContent = option2.textContent =
                `${currency[0]} - ${currency[1]}`;

            fromSelect.appendChild(option1);
            toSelect.appendChild(option2);
        });

    } catch (error) {
        console.error(error.message);
    }
}

async function convertCurrency() {
    try {
        const amount = amountInput.value;
        const from = fromSelect.value;
        const to = toSelect.value;

        if (!amount) return;

        result.textContent = "Converting...";

        const response = await fetch(
            `https://v6.exchangerate-api.com/v6/53c20a7301a850a81182a989/pair/${from}/${to}/${amount}`
        );

        if (!response.ok) throw new Error("Conversion failed");

        const data = await response.json();
        result.style.display='block'
        result.textContent =
            `${amount} ${from} = ${data.conversion_result} ${to}`;

    } catch (error) {
        result.textContent = "Error converting currency";
        console.error(error.message);
    }
}

switchBtn.addEventListener("click", () => {
    const temp = fromSelect.value;
    fromSelect.value = toSelect.value;
    toSelect.value = temp;

    if (amountInput.value) {
        convertCurrency();
    }
});

convertBtn.addEventListener("click", convertCurrency);

loadCurrencies();

    </script>
</body>
</html>